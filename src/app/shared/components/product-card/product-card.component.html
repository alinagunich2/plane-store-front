<div class="product-card" *ngIf="product" (click)="navigate()" [class.is-light]="isLight">
    <div class="product-card-favourite" *ngIf="!isLight" (click)="updateFavorite()">
        
        <span *ngIf="product.isInFavorite && isLoggedIn">
            <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.99967 17.846C9.71551 17.846 9.44051 17.8093 9.21134 17.7268C5.70967 16.526 0.145508 12.2635 0.145508 5.96596C0.145508 2.75763 2.73967 0.154297 5.92967 0.154297C7.47884 0.154297 8.92717 0.759297 9.99967 1.84096C11.0722 0.759297 12.5205 0.154297 14.0697 0.154297C17.2597 0.154297 19.8538 2.7668 19.8538 5.96596C19.8538 12.2726 14.2897 16.526 10.788 17.7268C10.5588 17.8093 10.2838 17.846 9.99967 17.846ZM5.92967 1.5293C3.50051 1.5293 1.52051 3.51846 1.52051 5.96596C1.52051 12.2268 7.54301 15.7101 9.66051 16.4343C9.82551 16.4893 10.183 16.4893 10.348 16.4343C12.4563 15.7101 18.488 12.236 18.488 5.96596C18.488 3.51846 16.508 1.5293 14.0788 1.5293C12.6855 1.5293 11.393 2.18013 10.5588 3.30763C10.3022 3.65596 9.71551 3.65596 9.45884 3.30763C8.60634 2.17096 7.32301 1.5293 5.92967 1.5293Z" fill="#B6D5B9"/>
                <path d="M5.92967 1.5293C3.50051 1.5293 1.52051 3.51846 1.52051 5.96596C1.52051 12.2268 7.54301 15.7101 9.66051 16.4343C9.82551 16.4893 10.183 16.4893 10.348 16.4343C12.4563 15.7101 18.488 12.236 18.488 5.96596C18.488 3.51846 16.508 1.5293 14.0788 1.5293C12.6855 1.5293 11.393 2.18013 10.5588 3.30763C10.3022 3.65596 9.71551 3.65596 9.45884 3.30763C8.60634 2.17096 7.32301 1.5293 5.92967 1.5293Z" fill="#B6D5B9"/>
                </svg>
                
                           
        </span>
        
        <span *ngIf="!product.isInFavorite && isLoggedIn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.9997 20.8457C11.7155 20.8457 11.4405 20.8091 11.2113 20.7266C7.70967 19.5257 2.14551 15.2632 2.14551 8.96572C2.14551 5.75739 4.73967 3.15405 7.92967 3.15405C9.47884 3.15405 10.9272 3.75905 11.9997 4.84072C13.0722 3.75905 14.5205 3.15405 16.0697 3.15405C19.2597 3.15405 21.8538 5.76655 21.8538 8.96572C21.8538 15.2724 16.2897 19.5257 12.788 20.7266C12.5588 20.8091 12.2838 20.8457 11.9997 20.8457ZM7.92967 4.52905C5.50051 4.52905 3.52051 6.51822 3.52051 8.96572C3.52051 15.2266 9.54301 18.7099 11.6605 19.4341C11.8255 19.4891 12.183 19.4891 12.348 19.4341C14.4563 18.7099 20.488 15.2357 20.488 8.96572C20.488 6.51822 18.508 4.52905 16.0788 4.52905C14.6855 4.52905 13.393 5.17989 12.5588 6.30739C12.3022 6.65572 11.7155 6.65572 11.4588 6.30739C10.6063 5.17072 9.32301 4.52905 7.92967 4.52905Z" fill="#383838"/>
                </svg>                
        </span>

    </div>
    <div class="product-card-image" style="background-image: url('http://localhost:3000/images/products/{{product.image}}');"></div>
    <div class="product-card-name">
        {{product.name}}
    </div>
    <div class="product-card-info" *ngIf="!isLight">
        <div class="product-card-price">
            {{product.price}} BYN
        </div>
        <div class="product-card-action">
            <button class="button" (click)="addToCart()" *ngIf="!countInCart">В корзину</button>
            <button class="button button-transparent button-in-cart" (click)="removeFromCart()" *ngIf="countInCart">
                <span>В корзине</span>
                <span>Удалить</span>
            </button>
        </div>
    </div>

    <div class="product-card-extra" *ngIf="!isLight">

        <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>
        
        <a [routerLink]="'/product/'+product.url" class="product-card-detail">
            <svg width="18" height="4" viewBox="0 0 18 4" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="2.66699" cy="2" r="2" fill="#9AA89B"/>
                <circle cx="9.33398" cy="2" r="2" fill="#9AA89B"/>
                <circle cx="16" cy="2" r="2" fill="#9AA89B"/>
                </svg>
            <span>Подробнее</span>                
        </a>
    </div>
</div>